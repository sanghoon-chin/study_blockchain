## 이더리움 강의

#### Byzantine fault–tolerant consensus algorithm

-  어떤 적군을 공격해야하는데 반드시 모든 장군이 같이 공격해야만 이길 수 있다. 서로 멀리 떨어져 있으니깐 서로서로 메세지를 교환해서 언제 쳐들어가자 이렇게 약속을 한다. 근데 누군가가 다른 사람을 죽이려고 교란을 한다. 이를 극복하기 위해 합의 알고리즘을 만들었다. 

비잔틴 오류 허용 => 정직한 사람들끼리는 합의에 성공할 수 있다. (BFT)



그러면 결국 블록체인이라는 것은 많은 블럭(장부)들이 모인 것이 맞는 블록체인이구나!(긴 체인을 선택)

그러면 장부를 어떻게 만들것이냐??? => 누구나 만들 수 있게 할거냐?? 그러기엔 좀 힘들지 않을까?? 그래서 장부를 만드는 방법에 public(장부를 누구나 만들 수 있고 유효한 장부는 가장 긴 장부이다. 대표적으로 PoW, PoS), consortium or private(장부를 만들 수 있는 권한을 특정 몇몇 혹은 기관한테 주자!. 얘는 구현하기 쉬움)

**PoW(Proof of Work)**

-  합의를 하기 위한 하나의 방법
-  주로 화폐로써의 기능을 수행
-  비트코인은 작업증명(PoW)에 따른 블록체인 기술

-  니가 일을 하고 거기에 따른 보상을 줄게 (채굴하는 거)

-  만약 채굴없이 블록을 손쉽게 만들 수 있다면 그 블록을 이어서 가장 긴 체인으로 선택받고 위변조를 할 수 있다. 나가토모 사토시는 이런 공격을 막고자 하는 노력을 했고 그 해답이 바로 `암호퍼즐` 을 풀도록 하는 것. 이 암호퍼즐은 맞추기는 어려운데 확인은 굉장히 빠르다!!

-  사실 public 과 같은 방법은 사람들이 굳이 장부를 만들어야할 동기부여를 얻기 힘들기 때문에 보상을 줘야한다. 근데 보상을 계속 주면 당연히 인플레이션 발생! => 4년마다 보상가격을 절반으로 줄인다. 그래서 자연스럽게 보상은 줄테고 이 보상 대신 거래수수료로 대체한다고 발표했는데 이렇게 되는 순간 stability가 떨어진다고 함. => 비트코인은 끝까지 살아남기 힘들것... (실제 연구결과가 있음)

문제점?

-  처음에는 CPU로만 채굴할 것이라 생각했지만 점점 연산 능력이 좋은 고가의 장비가 생겨나고 이는 자연스럽게 돈을 가진 사람들이 주도권을 갖게 된다. => 진짜 Decentralized(탈중앙화)가 돼있는가??
-  거래 처리하는 데 시간이 ㅈㄴ 걸림.. 블록에 기록이 되야 정식으로 인정받는데 블록에 기록하려면 채굴을 해야되고 이는 당연히 시간이 오래 걸림..=> Scalability(확장성)??
-  모든 사람이 동시간에 정보를 업데이트 하기가 힘듦..=> Security(안정성)??
-  작업증명을 위한 퍼즐을 풀기 때문에 엄청난 에너지(전기) 소요

-  비트코인은 오픈소스임 => 따라서 누구나 코드를 접근할 수 있다는 거고 이는 안정성이 떨어짐.그리고 실제 비트코인은 익명성을 보장한다고는 하지만 약 40%까지는 추적이 가능하다고 함.  또한 오픈소스라는 점을 가지고 약간씩 바꿔서 다른 알트 코인을 만듦(예를 들어 익명성을 강화한다거(니오스)나 혹은 합의 알고리즘의 속도를 높여(모두 선거를 하지 말고 대표를 뽑아서 빠르게 처리하자. 간접민주주의 느낌으로) 거래를 빨리빨리하자 느낌(EOS, 이더리움 캐스퍼) 등등)

우리가 합의하려면 규칙이 필요하다 (룰이 필요!!) 근데 이 룰을 평생 지킬 수는 없음. 시대에 따라서 조금 변하기도 하고 해야되니깐! 그래서 룰이 조금 바뀌면 soft fork, 룰이 많이 바뀌면 hard fork. 근데 룰이 너무 많이 바뀌게 되면 이를 따르지 않는 사람이 발생! => 새로운 코인이 생겨나는 것



우리가 흔히 아는 비트코인(BTC), 이더리움(ETH) 등은 코인입니다. 독립된 블록체인 네트워크, 메인넷을 가졌기 때문에 네트워크 생태계 안에서 자체적으로 기능을 할 수 있습니다. 

토큰은 그럼 반대로, 독립된 블록체인 네트워크를 소유하지 않았다는 소리겠죠. 메인넷, 즉 자체 생태계가 없기에 기존 블록체인 네트워크를 빌려야 제 기능을 할 수 있습니다. 

그럼 기존 블록체인 생태계를 빌리려면 어떻게 하느냐? 2가지 방법이 있습니다. 활동하려는 네트워크 생태계 룰을 따르거나, 벗어나거나. 



이더리움??

-  Distributed `Turing Machine` with Blockchain Protection. Ethereum is World Computer. 세상 사람들이 모두 이용할 수 있는 컴퓨터를 만들고 싶다는 아이디어! 마치 분산 컴퓨팅처럼. 즉 내가 어떤 일을 하고 싶은데 내 컴퓨터 리소스가 부족하다면 네트워크에 올려서 사람의 컴퓨팅 자원을 사용하고 그 사람한테 돈을 지불하겠다. 근데 그 사람이 프로그램을 잘못 돌려서 잘못된 결과가 나올 수 있지 않나?? => 이런 걸 장부 확인하듯이 다른 사람들이 눈을 부릅 뜨고 확인하겠다는 의미 

암호화폐에는 크게 2가지 종류로 나뉩니다. 코인과 토큰. '고유의 독립된 블록체인 네트워크(메인넷)가 있느냐 없느냐'가 그 기준입니다. 

>  우리는 항상 중앙에 어떤 얘를 믿고 그걸 토대로 거래를 하는데 과거의 경험들(리만 사태, 금융위기 등등)을 비추어 보니 너무 믿기만 하면 안되겠다! 화가 난다. 그래서 우리는 중앙에 누군가를 믿지 말고 우리끼리 관리하자 이거야. 그래서 생각한 방법은 우리가 모든 거래 내역이 담겨있는 장부(ledger)를 가지고 있는거지. 근데 문제는 이걸 누군가가 구라쳐서 속인다면?? 혹은 나쁜 마음을 먹고 악의적으로 위변조를 한다면!? => 그래서 우리끼리 어떤 합의(consensus) 알고리즘을 만들어내자!



최근에 이더리움 2.0으로 업데이트하려고 하고 있는데 가장 주된 이유는 `확장성` 때문이라고 함.



Turing에 의해서 프로그램을 실행시켜보지 않고는 이 프로그램이 제대로 동작할 수 있는지 아닌지에 대해 알 수 없다는 사실을 증명했다. 어? 그럼 이더리움은 모든 클라이언트가 스마트 컨트랙트를 실행시켜서 알아야하는데 실행시켜야할 스마트 컨트랙트가 컴퓨터 리소스를 많이 잡아먹을 수도 있다!(실행시키기 전에는 무한루프인지 아닌지를 알 수 없으므로)



-  결정론적 지갑 => metamask 보면 시드를 통해서 키가 결정된다. 시드를 사용해 지갑을 백업하고 복원해줄 수 있게 하며 이는 사람이 읽기 쉽게 니모닉 문구 단어로 배열된다.





